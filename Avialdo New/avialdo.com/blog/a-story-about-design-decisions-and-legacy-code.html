<!DOCTYPE html>
<html lang="en">
<!--

  Want to apply for a developer job? Follow this path: http://challenge.futurice.com/

-->

<!-- Mirrored from futurice.com/blog/a-story-about-design-decisions-and-legacy-code by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Apr 2016 08:11:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head prefix="og: http://ogp.me/ns#">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <!--[if lt IE 9]><script src="//static.flockler.com/assets/html5shiv/html5shiv-3.7.2-411c036062e933ea2996a9e81d0a1a10.js" type="text/javascript"></script><![endif]-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0"/>
  <link rel="alternate" type="application/rss+xml" title="Futurice Blog" href="rss">

  <title>A story about design decisions and legacy code — Futurice</title>
  <link rel="icon" type="image/png" href="../../static.flockler.com/assets/futurice/images/favicon-73ef94531581d9f27e41233515c60919.png">
  <!--[if IE]>
    <link rel="shortcut icon" href="//static.flockler.com/assets/futurice/images/favicon-3225e8217799f7ff156f47c394d9eb67.ico"/>
  <![endif]-->

  
  <meta property="og:title" content="A story about design decisions and legacy code — Futurice">
  <meta property="og:description" name="description" content="Back in late 2011 - early 2012, my project’s development team was taking the first concrete steps in one of our largest projects so far. We were figuring out the domain model and creating our data model. We already knew that the Customer, a core entit">
  <meta property="og:type" content="article">
  <meta property="og:url" content="a-story-about-design-decisions-and-legacy-code.html">


  <script src="../../use.typekit.net/yvs3xkq.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

  <link href="../../static.flockler.com/assets/futurice/stylesheets/application-c89517cc680dd524a0b43dc0e8f7f8ce.css" media="screen" rel="stylesheet" type="text/css" />

</head>
<body class="view--articles view--articles-show is-article-view is-blog-post-view" itemscope itemtype="http://schema.org/WebPage">
  <!-- Google Tag Manager -->
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-M2CWVJ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M2CWVJ');</script>
<!-- End Google Tag Manager -->

<div style="display:none">
  <!-- Google Code for Remarketing Tag -->
  <script type="text/javascript">
  /* <![CDATA[ */
    var google_conversion_id = 997302464;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
  /* ]]> */
  </script>
  <script type="text/javascript" src="../../www.googleadservices.com/pagead/f.txt"></script>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="http://googleads.g.doubleclick.net/pagead/viewthroughconversion/997302464/?value=0&amp;guid=ON&amp;script=0"/></div></noscript>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-15911025-14', 'auto', {'name': 'flocklerInternal'});
  ga('flocklerInternal.html', 'forceSSL', true);
  ga('flocklerInternal.send', 'pageview');
</script>


  <nav class="nav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
  <div class="nav__padding">
    <a href="../index.html" class="nav__logo-link">
      <img alt="Futurice" class="nav__logo" onerror="this.onerror=null;this.src='../assets/futurice/images/futurice-logo--green.png';" src="http://static.flockler.com/assets/futurice/images/futurice-logo--green.svg" />
</a>    <div class="nav-collapse">
      <ul class="nav__items">
        <li class="nav__item">
          <a href="../work.html">Work</a>
        </li>
        <li class="nav__item">
          <a href="../services.html">Services</a>
        </li>
        <li class="nav__item">
          <a href="../culture.html">Culture</a>
        </li>
        <li class="nav__item">
          <a href="../careers.html">Careers</a>
        </li>
        <li class="nav__item">
          <a href="../events.html">Events</a>
        </li>
        <li class="nav__item">
          <a href="../people.html">People</a>
        </li>
        <li class="nav__item">
          <a href="../blog.html">Blog</a>
        </li>
        <li class="nav__item">
          <a href="../contact.html">Contact</a>
        </li>
        <li class="nav__item nav__item--search">
          <a href="../search.html"><i class="icon-search"></i><span>Search</span></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  <header class="header" role="banner" itemscope itemtype="http://schema.org/WPHeader">
  <div class="header__container">
    <img alt="Bg-3" onerror="this.onerror=null;this.src='../assets/futurice/images/backgrounds/bg-3.png';" src="http://static.flockler.com/assets/futurice/images/backgrounds/bg-3.svg" />

  </div>
</header>

  <main class="main" role="main" itemscope itemprop="mainContentOfPage" itemtype="http://schema.org/WebPage">
    
  <div class="article-wrapper">
  <article class="article" itemscope itemprop="blogPost" itemtype="http://schema.org/BlogPosting">
    <header class="article__header">
      <div class="article__header__meta">
        <time class="article__header__meta__published-at" itemprop="datePublished" datetime="2013-05-31T06:30:48Z">
          May 31, 2013
        </time>
          <span class="article__header__meta__category" itemprop="articleSection">
            Lifecycle management
          </span>
      </div>

      <h1 class="article__header__title" itemprop="headline">
        A story about design decisions and legacy code
      </h1>

      <div class="article__header__meta">
          <div class="article__header__meta__item article__header__author" itemprop="author" itemscope itemptype="http://schema.org/Person">
              <a href="../people/jon-krogell.html" class="article__header__author-link" itemprop="url" rel="author">
                <figure class="article__header__author__avatar">
                  <img alt="" src="../../flockler.com/thumbs/sites/377/jongloori_futukom--6svh511kkc_s100x100_q80_noupscale.jpg" />
                </figure>
                <div class="article__header__meta__item__body">
                  <span class="article__header__author-name" itemprop="name">Jon Krogell</span>
                  <span class="article__header__author-title" itemprop="jobTitle"></span>
                </div>
              </a>
          </div>

          <div class="article__header__tags">
            <span class="article__header__tags-label">Topics</span>
            <div class="article__header__meta__item__body article__header__tags__body">
                <a href="../searchdaa0.html?q=Coding" class="article__header__tag-link">
                  <span class="article__header__tag-name">Coding</span></a>, 
                <a href="../searchc6c4.html?q=Maintenance" class="article__header__tag-link">
                  <span class="article__header__tag-name">Maintenance</span></a>
            </div>
          </div>
      </div>
    </header>
    <div class="article__body" itemprop="articleBody">
      <p>Back in late 2011 - early 2012, my project’s development team was taking the first concrete steps in one of our largest projects so far. We were figuring out the domain model and creating our data model. We already knew that the Customer, a core entity in the system, is conceptually a complex beast (singles, couples, divorces, name changes, decedent estates, companies, and lots of duplicates). Despite this, our chosen (data) model was vastly simplified – basically a natural person with very few restrictions on uniqueness. Creating a complete model incorporating the various customer types was deemed over-engineering. I agreed; it was a sound decision.</p>
<p>Fast-forward to 2013. Decedent estates and companies are added as a type-flag to the Customer model. I regret to say that I wasn't actively involved and could not raise any concerns. I also failed to mention my slight mistrust in the implementation when first seeing it. I acquiesced; it was, after all, a straightforward solution that did nothing extra, no waste, KISS, and all that.</p>
<p>Later, I was involved in a sub-project that required us to tighten the restrictions of the Customer entity, namely, making the email field unique. This caused significant hurdles, as there were duplicate emails in the customer registry. Having overcome the challenges, we stumbled upon a problem: in some cases, decedent estates needed the same contact email address as a natural person.</p>
<p>Consequently, we decided that we should refactor the special cases out of the Customer model and merely link to a natural person Customer-entity with a unique email. This is, in my humble opinion, the proper way to resolve the issue. However, it has since come to our attention that this change will have universal implications on the system and has been deemed too costly, both in money and time required. Instead, a workaround is planned – not a hideous one, but a workaround nonetheless.</p>
<p>I understand the business decision, but frankly, we are adding technical debt where we should be reducing it. That said, my main concern isn't the workaround, it's that we got here in the first place. How did we, within our own project, reach a point where we are afraid or unable to make far-reaching changes? A point where our code can now be considered legacy code.</p>
<p>Obviously changes are cheaper the earlier we do them, but on the flip-side, over-engineering and waste (as in code or features not needed yet or only needed for a short period of time) is considered bad practice. How do we balance between making small evolutionary steps and saying 'no, we need to make a big and somewhat unnecessary change now because it'll be overwhelming to do it later’?</p>
    </div>

    <footer class="article__footer">
      <span class="article__footer__item article__author" itemprop="author" itemscope itemptype="http://schema.org/Person">
        <span class="article__footer__item__label">Written by</span>
        <div class="article__footer__item__body">
            <a href="../people/jon-krogell.html" class="article__author-link" itemprop="url" rel="author">
              <span class="article__author-name" itemprop="name">Jon Krogell</span>
            </a>
        </div>
      </span>
        <span class="article__footer__item article__tags">
          <meta itemprop="keywords" content="#&lt;Tag:0x007f6f65c75b60&gt;, #&lt;Tag:0x007f6f65c75728&gt;">
          <span class="article__footer__item__label">Topics</span>
          <div class="article__footer__item__body">
              <a href="../searchdaa0.html?q=Coding" class="article__tag-link">
                <span class="article__tag-name">Coding</span></a>, 
              <a href="../searchc6c4.html?q=Maintenance" class="article__tag-link">
                <span class="article__tag-name">Maintenance</span></a>
          </div>
        </span>

      <span class="article__footer__item article__footer__item--share">
  <span class="article__footer__item__label">Share</span>
  <div class="article__footer__item__body">

    <a onClick="event.preventDefault(); window.open('http://www.facebook.com/sharer.php?u=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code', 'sharer', 'toolbar=0,status=0,width=548,height=325');" target="_blank"  class="article__footer__item__share-link" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code">
      <i class="icon-facebook"></i>
    </a>

    <a onClick="event.preventDefault(); window.open('https://twitter.com/intent/tweet?text=A%20story%20about%20design%20decisions%20and%20legacy%20code&amp;url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code', 'sharer', 'toolbar=0,status=0,width=548,height=525');" target="_blank" class="article__footer__item__share-link"
    href="https://twitter.com/intent/tweet?text=A%20story%20about%20design%20decisions%20and%20legacy%20code&amp;url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code">
      <i class="icon-twitter"></i>
    </a>

    <a onClick="event.preventDefault(); window.open('https://plus.google.com/share?url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code', 'sharer', 'toolbar=0,status=0,width=548,height=525');" target="_blank" class="article__footer__item__share-link"
    href="https://plus.google.com/share?url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code">
      <i class="icon-google-plus"></i>
    </a>

    <a onClick="event.preventDefault(); window.open('https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code&amp;title=A%20story%20about%20design%20decisions%20and%20legacy%20code', 'sharer', 'toolbar=0,status=0,width=548,height=525');" target="_blank" class="article__footer__item__share-link"
    href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A%2F%2Ffuturice.com%2Fblog%2Fa-story-about-design-decisions-and-legacy-code&amp;title=A%20story%20about%20design%20decisions%20and%20legacy%20code">
      <i class="icon-linkedin"></i>
    </a>
  </div>
</span>

    </footer>
  </article>

    <aside class="related-articles related-articles--tag" role="complementary" itemscope itemtype="http://schema.org/WPSideBar">
      <h2 class="related-articles__heading">More to read</h2>
        
<article class="article-list-item "
  itemscope itemprop="article" itemtype="http://schema.org/article">
  <a href="producing-legacy-software-in-five-easy-steps.html" class="article-list-item__link" itemprop="url">
    <h1 class="article-list-item__title" itemprop="headline">Producing legacy software in five easy steps</h1>
</a></article>

        
<article class="article-list-item "
  itemscope itemprop="article" itemtype="http://schema.org/article">
  <a href="re-inventing-custom-software-maintenance.html" class="article-list-item__link" itemprop="url">
    <h1 class="article-list-item__title" itemprop="headline">Re-inventing custom software maintenance</h1>
</a></article>

        
<article class="article-list-item "
  itemscope itemprop="article" itemtype="http://schema.org/article">
  <a href="tech-pick-of-the-week-clojure.html" class="article-list-item__link" itemprop="url">
    <h1 class="article-list-item__title" itemprop="headline">Tech Pick of the Week: Clojure</h1>
</a></article>

    </aside>


</div>


  </main>
  
<footer class="footer" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">
    <div class="follow-us">
      <h3 class="follow-us__heading">Follow us:</h3>

        <a href="https://www.facebook.com/futurice" class="follow-us__link follow-us__link--facebook" target="_blank">
          <img alt="Facebook" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/some-icons.png';" src="http://static.flockler.com/assets/futurice/images/some-icons.svg" />
</a>        <a href="https://twitter.com/futurice" class="follow-us__link follow-us__link--twitter" target="_blank">
          <img alt="Twitter" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/some-icons.png';" src="http://static.flockler.com/assets/futurice/images/some-icons.svg" />
</a>        <a href="https://www.instagram.com/futurice" class="follow-us__link follow-us__link--instagram" target="_blank">
          <img alt="Instagram" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/some-icons.png';" src="http://static.flockler.com/assets/futurice/images/some-icons.svg" />
</a>                                <a href="http://vimeo.com/futurice" class="follow-us__link follow-us__link--vimeo" target="_blank">
          <img alt="Vimeo" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/some-icons.png';" src="http://static.flockler.com/assets/futurice/images/some-icons.svg" />
</a>                                                <a href="https://github.com/futurice" class="follow-us__link follow-us__link--github" target="_blank">
          <img alt="Github" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/some-icons.png';" src="http://static.flockler.com/assets/futurice/images/some-icons.svg" />
</a>                        
    </div>
  <div class="footer__padding">
    <div class="footer__logo">
      <a href="../index.html">
        <img alt="Futurice" data-pin-no-hover="true" onerror="this.onerror=null;this.src='../assets/futurice/images/futurice-logo--white.png';" src="http://static.flockler.com/assets/futurice/images/futurice-logo--white.svg" />
</a>
      <p class="footer__tagline">We create digital services for people&nbsp;to&nbsp;love</p>
    </div>

    <div class="footer__menu">
      <hr>
      <p>
        <a href="../work.html">Work</a>
        <a href="../culture.html">Culture</a>
        <a href="../careers.html">Careers</a>
        <a href="../people.html">People</a>
        <a href="../blog.html">Blog</a>
        <a href="../contact.html">Contact</a>
      </p>
    </div>
    <div class="footer__menu">
      <hr>
      <p>
        <a href="../contact.html#helsinki" class="js-contact-location">Helsinki</a>
        <a href="../contact.html#berlin" class="js-contact-location">Berlin</a>
        <a href="../contact.html#london" class="js-contact-location">London</a>
        <a href="../contact.html#tampere" class="js-contact-location">Tampere</a>
        <a href="../contact.html#stockholm" class="js-contact-location">Stockholm</a>
        <a href="../contact.html#munich" class="js-contact-location">Munich</a>
      </p>
    </div>

    <div class="footer__details">
      <span>&copy; 2016 Futurice. All Rights Reserved</span>
      <a href="../legal-disclaimer.html">Legal disclaimer</a>
      <a href="../impressum.html">Impressum</a>
      <a href="../datenschutz.html">Datenschutz</a>
    </div>

  </div>
</footer>

  <form id="load-more-state-form" style="overflow:hidden;width:1px;height:1px;margin:0;padding:0;position:absolute;bottom:0;">
  <input id="load-more-state" type="checkbox" tabindex="-1" aria-hidden="true">
</form>


  <script>
    var Futurice = {
      siteId: 377,
      itemsPerPage: 8
    };
    var APIBASEPATH = "https://flockler.com/api";
  </script>

  <script src="../../static.flockler.com/assets/futurice/javascripts/application-689c6d006591a03af50a5a56fc93ce18.js" type="text/javascript"></script>
  <!--[if IE 8 ]>
<link href="//static.flockler.com/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/respond.proxy.js"></script>
<![endif]-->


  <aside class="cookie-notice js-cookie-notice">
  <p class="cookie-notice__description">
    By continuing to use this site, you agree to the use of cookies.
    You can change this and find out more by following&nbsp;this&nbsp;<a href="../cookies.html">link</a>.
  </p>
  <button type="button" class="cookie-notice__button js-cookie-notice__button">Accept cookies</button>
</aside>


    <!-- Start of Async HubSpot Analytics Code -->
    <script type="text/javascript">
      (function(d,s,i,r) {
        if (d.getElementById(i)){return;}
        var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
        n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/553433.js';
        e.parentNode.insertBefore(n, e);
      })(document,"script","hs-analytics",300000);
    </script>
    <!-- End of Async HubSpot Analytics Code -->
</body>

<!-- Mirrored from futurice.com/blog/a-story-about-design-decisions-and-legacy-code by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 14 Apr 2016 08:11:48 GMT -->
</html>
